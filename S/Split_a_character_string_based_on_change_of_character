#!/usr/local/bin/perl
#u# http://rosettacode.org/wiki/Split_a_character_string_based_on_change_of_character
#c# 2018-08-13 <>RC, 2019-11-09 >RC
#p# OK
#n# not all elegant and Rakuvian, but hey it works

use strict;
use warnings;
use feature 'say';
use utf8;
binmode(STDOUT, ':utf8');

my @res;

for my $string (q[gHHH5YY++///\\], q[fffï»¿ï»¿ï»¿nâƒ—nâƒ—nâƒ—Â»Â»Â»  â„µâ„µâ˜„â˜„â˜ƒâ˜ƒÌ‚â˜ƒğŸ¤”ğŸ‡ºğŸ‡¸ğŸ¤¦â€â™‚ï¸ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦]) {
    my @S; 
    my $last = '';
    while ($string =~ /(\X)/g) {
        if ($last eq $1) { $S[-1] .= $1 } else { push @S, $1 }
        $last = $1;
    }
    push @res, "Orginal: $string\n  Split: ï½¢" . join('ï½£ ï½¢', @S) . "ï½£\n";
}

say my $result = join "\n", @res;

my $ref = <<'END';
Orginal: gHHH5YY++///\
  Split: ï½¢gï½£ ï½¢HHHï½£ ï½¢5ï½£ ï½¢YYï½£ ï½¢++ï½£ ï½¢///ï½£ ï½¢\ï½£

Orginal: fffï»¿ï»¿ï»¿nâƒ—nâƒ—nâƒ—Â»Â»Â»  â„µâ„µâ˜„â˜„â˜ƒâ˜ƒÌ‚â˜ƒğŸ¤”ğŸ‡ºğŸ‡¸ğŸ¤¦â€â™‚ï¸ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
  Split: ï½¢fffï½£ ï½¢ï»¿ï»¿ï»¿ï½£ ï½¢nâƒ—nâƒ—nâƒ—ï½£ ï½¢Â»Â»Â»ï½£ ï½¢  ï½£ ï½¢â„µâ„µï½£ ï½¢â˜„â˜„ï½£ ï½¢â˜ƒï½£ ï½¢â˜ƒÌ‚ï½£ ï½¢â˜ƒï½£ ï½¢ğŸ¤”ï½£ ï½¢ğŸ‡ºğŸ‡¸ï½£ ï½¢ğŸ¤¦â€â™‚ï¸ï½£ ï½¢ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ï½£

END

use Test::More;
chomp $ref;
is ($result,$ref);
done_testing;
