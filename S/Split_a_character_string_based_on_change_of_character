#!/usr/local/bin/perl
#u# http://rosettacode.org/wiki/Split_a_character_string_based_on_change_of_character
#c# 2018-08-13 <>RC, 2019-11-09 >RC
#p# OK
#n# not all elegant and Rakuvian, but hey it works

use strict;
use warnings;
use feature 'say';
use utf8;
binmode(STDOUT, ':utf8');

my @res;

for my $string (q[gHHH5YY++///\\], q[fffï»¿ï»¿ï»¿nâƒ—nâƒ—nâƒ—Â»Â»Â»  â„µâ„µâ˜„â˜„â˜ƒâ˜ƒÌ‚â˜ƒğŸ¤”ğŸ‡ºğŸ‡¸ğŸ¤¦â€â™‚ï¸ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦]) {
    my @S; 
    my $last = '';
    while ($string =~ /(\X)/g) {
        if ($last eq $1) { $S[-1] .= $1 } else { push @S, $1 }
        $last = $1;
    }
    push @res, "Orginal: $string\n  Split: ã€Œ" . join('ã€ ã€Œ', @S) . "ã€\n";
}

say my $result = join "\n", @res;

my $ref = <<'END';
Orginal: gHHH5YY++///\
  Split: ã€Œgã€ ã€ŒHHHã€ ã€Œ5ã€ ã€ŒYYã€ ã€Œ++ã€ ã€Œ///ã€ ã€Œ\ã€

Orginal: fffï»¿ï»¿ï»¿nâƒ—nâƒ—nâƒ—Â»Â»Â»  â„µâ„µâ˜„â˜„â˜ƒâ˜ƒÌ‚â˜ƒğŸ¤”ğŸ‡ºğŸ‡¸ğŸ¤¦â€â™‚ï¸ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
  Split: ã€Œfffã€ ã€Œï»¿ï»¿ï»¿ã€ ã€Œnâƒ—nâƒ—nâƒ—ã€ ã€ŒÂ»Â»Â»ã€ ã€Œ  ã€ ã€Œâ„µâ„µã€ ã€Œâ˜„â˜„ã€ ã€Œâ˜ƒã€ ã€Œâ˜ƒÌ‚ã€ ã€Œâ˜ƒã€ ã€ŒğŸ¤”ã€ ã€ŒğŸ‡ºğŸ‡¸ã€ ã€ŒğŸ¤¦â€â™‚ï¸ã€ ã€ŒğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ã€

END

use Test::More;
chomp $ref;
is ($result,$ref);
done_testing();
