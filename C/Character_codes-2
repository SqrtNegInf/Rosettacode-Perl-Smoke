#!/usr/local/bin/perl
#u# http://rosettacode.org/wiki/Character_codes
#c# 2019-11-07 >RC
#p# OK

use strict;
use warnings;
use feature 'say';
use utf8;
binmode(STDOUT, ':utf8');
use Encode;
use Unicode::UCD 'charinfo';

my @res;

my $fmt = "%14s: %s\n";
my @label = ('Character', 'Character name', 'Ordinal(s)', 'Hex ordinal(s)', 'UTF-8', 'Round trip');

for my $char (qw<Î”Ì‚ ðŸ‡ºðŸ‡¸ ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦>) {
    my @ordinals = map { ord } split //, $char;        
#    printf "%14s: %s\n"x6 . "\n", # for RC
    push @res, sprintf "%14s: %s\n"x6,
    $label[0], $char,
    $label[1], join(', ', map { charinfo($_)->{'name'} } @ordinals),
    $label[2], join(' ', @ordinals),
    $label[3], join(' ',  map { sprintf("0x%x", $_)    } @ordinals),
    $label[4], join('',   map { sprintf "%x ", ord     } split //, Encode::encode("utf8", $char)),
    $label[5], join('',   map { chr                    } @ordinals);
}

say my $result = join "\n", @res;

my $ref = <<'END';
     Character: Î”Ì‚
Character name: GREEK CAPITAL LETTER DELTA, COMBINING CIRCUMFLEX ACCENT
    Ordinal(s): 916 770
Hex ordinal(s): 0x394 0x302
         UTF-8: ce 94 cc 82 
    Round trip: Î”Ì‚

     Character: ðŸ‡ºðŸ‡¸
Character name: REGIONAL INDICATOR SYMBOL LETTER U, REGIONAL INDICATOR SYMBOL LETTER S
    Ordinal(s): 127482 127480
Hex ordinal(s): 0x1f1fa 0x1f1f8
         UTF-8: f0 9f 87 ba f0 9f 87 b8 
    Round trip: ðŸ‡ºðŸ‡¸

     Character: ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦
Character name: MAN, ZERO WIDTH JOINER, WOMAN, ZERO WIDTH JOINER, GIRL, ZERO WIDTH JOINER, BOY
    Ordinal(s): 128104 8205 128105 8205 128103 8205 128102
Hex ordinal(s): 0x1f468 0x200d 0x1f469 0x200d 0x1f467 0x200d 0x1f466
         UTF-8: f0 9f 91 a8 e2 80 8d f0 9f 91 a9 e2 80 8d f0 9f 91 a7 e2 80 8d f0 9f 91 a6 
    Round trip: ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦

END


use Test::More;
chomp $ref;
is($result, $ref);
done_testing();

__END__

=={{header|Perl}}==
<lang perl></lang>
{{out}}
<pre></pre>
