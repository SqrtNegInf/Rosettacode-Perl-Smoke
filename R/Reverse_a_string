#!/usr/local/bin/perl
#u# http://rosettacode.org/wiki/Reverse_a_string
#c# 2018-08-18 <RC, 2018-09-08 >RC
#p# OK

my $result;

use strict;
use warnings;
use feature 'say';

use utf8;
binmode STDOUT, ':utf8';

# to reverse characters (code points):

$result .= reverse 'visor';
$result .="\n";

# to reverse graphemes:
my $string = "Jose\x{301}"; # "JosÃ©" in NFD
$result .= join('', reverse $string =~ /\X/g); # becomes "Ã©soJ"
$result .="\n";
$string = 'â„µÎ‘Î© é§±é§é“ ğŸ¤” ğŸ‡¸ğŸ‡§ ğŸ‡ºğŸ‡¸ ğŸ‡¬ğŸ‡§â€ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ†—ğŸ—º';
$result .= join('', reverse $string =~ /\X/g);
$result .="\n";

say $result;

my $ref = <<'EOD';
rosiv
eÌsoJ
ğŸ—ºğŸ†—ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ğŸ‡¬ğŸ‡§â€ ğŸ‡ºğŸ‡¸ ğŸ‡¸ğŸ‡§ ğŸ¤” é“é§é§± Î©Î‘â„µ
EOD

use Test::More;
is ($result, $ref);
done_testing;
