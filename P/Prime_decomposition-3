#!/usr/local/bin/perl
#u# http://rosettacode.org/wiki/Prime_decomposition
#c# 2018-08-20 <RC
#p# OK

my $result;

use strict;
use warnings;
use feature 'say';

use bigint;
use ntheory qw/factor forprimes/;

forprimes {
    my $p = 2 ** $_ - 1;
    $result .= "2**$_-1: ". join(" ", factor($p)). "\n";
} 100, 150;

say $result;

my $ref = <<'END';
2**101-1: 7432339208719 341117531003194129
2**103-1: 2550183799 3976656429941438590393
2**107-1: 162259276829213363391578010288127
2**109-1: 745988807 870035986098720987332873
2**113-1: 3391 23279 65993 1868569 1066818132868207
2**127-1: 170141183460469231731687303715884105727
2**131-1: 263 10350794431055162386718619237468234569
2**137-1: 32032215596496435569 5439042183600204290159
2**139-1: 5625767248687 123876132205208335762278423601
2**149-1: 86656268566282183151 8235109336690846723986161
END

use Test::More;
is ($result, $ref);
done_testing;
